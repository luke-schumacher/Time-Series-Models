# Makefile for SeqofSeq Dashboard
# Provides convenient shortcuts for common tasks

.PHONY: help build up down logs restart clean install dev test

# Default target
help:
	@echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
	@echo "â•‘         SeqofSeq Dashboard - Available Commands              â•‘"
	@echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
	@echo "â•‘  make build      - Build Docker images                       â•‘"
	@echo "â•‘  make up         - Start dashboard (detached)                â•‘"
	@echo "â•‘  make down       - Stop dashboard                            â•‘"
	@echo "â•‘  make logs       - View dashboard logs                       â•‘"
	@echo "â•‘  make restart    - Restart dashboard                         â•‘"
	@echo "â•‘  make clean      - Remove containers and volumes             â•‘"
	@echo "â•‘  make install    - Install Python dependencies locally       â•‘"
	@echo "â•‘  make dev        - Run in development mode (local)           â•‘"
	@echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

# Docker commands
build:
	@echo "ğŸ”¨ Building Docker image..."
	docker-compose build

up:
	@echo "ğŸš€ Starting dashboard..."
	docker-compose up -d
	@echo "âœ… Dashboard started at http://localhost:8050"

down:
	@echo "ğŸ›‘ Stopping dashboard..."
	docker-compose down

logs:
	@echo "ğŸ“‹ Viewing logs (Ctrl+C to exit)..."
	docker-compose logs -f dashboard

restart:
	@echo "ğŸ”„ Restarting dashboard..."
	docker-compose restart dashboard

clean:
	@echo "ğŸ§¹ Cleaning up..."
	docker-compose down -v
	@echo "âœ… Cleanup complete"

# Local development
install:
	@echo "ğŸ“¦ Installing dependencies..."
	pip install -r requirements.txt
	@echo "âœ… Installation complete"

dev:
	@echo "ğŸ”§ Starting development server..."
	python run_local.py

# Testing (placeholder)
test:
	@echo "ğŸ§ª Running tests..."
	@echo "âš ï¸  Tests not yet implemented"

# Quick rebuild and start
rebuild: clean build up

# Full setup
setup: build up
	@echo "âœ… Setup complete! Dashboard available at http://localhost:8050"
